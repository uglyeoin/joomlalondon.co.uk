define("channel",["extlycore"],function(i){"use strict";var l=function(e){var t,n=null,o="My-App-ID",a="My-App-Secret",i=e.$("#use_own_api").val(),s=e.$("#XTtoken").attr("name"),l=e.$("#channeltype_id").val();"1"===i?(n=e.$("#canvas_page").val().trim(),o=e.$("#app_id").val().trim(),a=e.$("#secret").val().trim(),e.$("#canvas_page").val(n),e.$("#app_id").val(o),e.$("#secret").val(a)):"2"===i&&(o=e.$("#app_id").val().trim(),a=e.$("#secret").val().trim(),e.$("#app_id").val(o),e.$("#secret").val(a)),t=e.$("#access_token").val().trim(),e.$("#access_token").val(t);var r={p_own_app:i,p_canvas_page:n,p_encoded_canvas_page:encodeURIComponent(n),p_app_id:encodeURIComponent(o),p_secret:encodeURIComponent(a),p_access_token:encodeURIComponent(t),p_token:encodeURIComponent(s),p_channelTypeId:l},c="app_id="+r.p_app_id+"&secret="+r.p_secret+"&access_token="+r.p_access_token+"&ownapp="+r.p_own_app+"&canvas_page="+r.p_encoded_canvas_page+"&token="+r.p_token;return r.p_url_params=c,r},t=function(e){var t=e.$("#api_key").val(),n=e.$("#secret_key").val(),o=e.$("#oauth_user_token").val(),a=e.$("#oauth_user_secret").val(),i=e.$("#XTtoken").attr("name"),s={p_api_key:t,p_secret_key:encodeURIComponent(n),p_oauth_user_token:encodeURIComponent(o),p_oauth_user_secret:encodeURIComponent(a),p_token:encodeURIComponent(i)},l="api_key="+s.p_api_key+"&secret_key="+s.p_secret_key+"&oauth_user_token="+s.p_oauth_user_token+"&oauth_user_secret="+s.p_oauth_user_secret+"&token="+s.p_token;return s.p_url_params=l,s},r={showSuccess:function(e,t,n,o){e.$("#user_id").val(t),this.assignSocialUrl(e,"social_url",n,o),e.$("#validation-notchecked").hide(),e.$("#validation-error").hide(),e.$("#validation-errormsg").hide(),e.$("#validation-success").show()},assignSocialUrl:function(e,t,n,o){o&&(e.$("#"+t).val(o),e.$("."+t).html(this.formatUrl(n,o)))},showError:function(e,t){e.$("#user_id").val(""),e.$("#validation-notchecked").hide(),e.$("#validation-success").hide(),e.$("#validation-theerrormsg").html(t),e.$("#validation-error").show(),e.$("#validation-errormsg").show()},formatUrl:function(e,t){return'<p><a href="'+t+'" target="_blank">'+e+" "+t+"</a></p>"}},e=i.ExtlyModel.extend({url:function(){return i.SefHelper.route("index.php?option=com_autotweet&view=channels&task=getBloggerValidation")}}),n=i.ExtlyModel.extend({url:function(){return i.SefHelper.route("index.php?option=com_autotweet&view=channels&task=getParamsForm&toolbar=none")}}),o=i.ExtlyModel.extend({url:function(){return i.SefHelper.route("index.php?option=com_autotweet&view=channels&task=getFbAlbums")}}),a=i.ExtlyModel.extend({url:function(){return i.SefHelper.route("index.php?option=com_autotweet&view=channels&task=getFbChannels")}}),s=i.ExtlyModel.extend({url:function(){return i.SefHelper.route("index.php?option=com_autotweet&view=channels&task=getFbChValidation")}}),c=i.ExtlyModel.extend({url:function(){return i.SefHelper.route("index.php?option=com_autotweet&view=channels&task=getFbExtend")}}),d=i.ExtlyModel.extend({url:function(){return i.SefHelper.route("index.php?option=com_autotweet&view=channels&task=getFbValidation")}}),h=i.ExtlyModel.extend({url:function(){return i.SefHelper.route("index.php?option=com_autotweet&view=channels&task=getGplusValidation")}}),p=i.ExtlyModel.extend({url:function(){return i.SefHelper.route("index.php?option=com_autotweet&view=channels&task=getLiGroups")}}),u=i.ExtlyModel.extend({url:function(){return i.SefHelper.route("index.php?option=com_autotweet&view=channels&task=getLiOAuth2Companies")}}),v=i.ExtlyModel.extend({url:function(){return i.SefHelper.route("index.php?option=com_autotweet&view=channels&task=getLiOAuth2Validation")}}),g=i.ExtlyModel.extend({url:function(){return i.SefHelper.route("index.php?option=com_autotweet&view=channels&task=getMediumValidation")}}),m=i.ExtlyModel.extend({url:function(){return i.SefHelper.route("index.php?option=com_autotweet&view=channels&task=getOneSignalValidation")}}),f=i.ExtlyModel.extend({url:function(){return i.SefHelper.route("index.php?option=com_autotweet&view=channels&task=getPageSpeedValidation")}}),k=i.ExtlyModel.extend({url:function(){return i.SefHelper.route("index.php?option=com_autotweet&view=channels&task=getPinterestValidation")}}),w=i.ExtlyModel.extend({url:function(){return i.SefHelper.route("index.php?option=com_autotweet&view=channels&task=getPushAlertValidation")}}),$=i.ExtlyModel.extend({url:function(){return i.SefHelper.route("index.php?option=com_autotweet&view=channels&task=getPushwooshValidation")}}),b=i.ExtlyModel.extend({url:function(){return i.SefHelper.route("index.php?option=com_autotweet&view=channels&task=getScoopitTopics")}}),x=i.ExtlyModel.extend({url:function(){return i.SefHelper.route("index.php?option=com_autotweet&view=channels&task=getScoopitValidation")}}),C=i.ExtlyModel.extend({url:function(){return i.SefHelper.route("index.php?option=com_autotweet&view=channels&task=getTelegramValidation")}}),y=i.ExtlyModel.extend({url:function(){return i.SefHelper.route("index.php?option=com_autotweet&view=channels&task=getTumblrValidation")}}),T=i.ExtlyModel.extend({url:function(){return i.SefHelper.route("index.php?option=com_autotweet&view=channels&task=getTwValidation")}}),E=i.ExtlyModel.extend({url:function(){return i.SefHelper.route("index.php?option=com_autotweet&view=channels&task=getVkGroups")}}),V=i.ExtlyModel.extend({url:function(){return i.SefHelper.route("index.php?option=com_autotweet&view=channels&task=getVkValidation")}}),S=i.ExtlyModel.extend({url:function(){return i.SefHelper.route("index.php?option=com_autotweet&view=channels&task=getXingValidation")}}),B=Backbone.Collection.extend({model:e}),R=Backbone.Collection.extend({model:n}),q=Backbone.Collection.extend({model:o}),I=Backbone.Collection.extend({model:a}),z=Backbone.Collection.extend({model:s}),F=Backbone.Collection.extend({model:c}),A=Backbone.Collection.extend({model:d}),H=Backbone.Collection.extend({model:h}),M=Backbone.Collection.extend({model:p}),U=Backbone.Collection.extend({model:u}),O=Backbone.Collection.extend({model:v}),X=Backbone.Collection.extend({model:g}),j=Backbone.Collection.extend({model:m}),G=Backbone.Collection.extend({model:f}),L=Backbone.Collection.extend({model:k}),Q=Backbone.Collection.extend({model:w}),D=Backbone.Collection.extend({model:$}),P=Backbone.Collection.extend({model:b}),N=Backbone.Collection.extend({model:x}),J=Backbone.Collection.extend({model:C}),K=Backbone.Collection.extend({model:y}),W=Backbone.Collection.extend({model:T}),Y=Backbone.Collection.extend({model:E}),Z=Backbone.Collection.extend({model:V}),ee=Backbone.Collection.extend({model:S}),te=Backbone.View.extend({events:{"click #bloggervalidationbutton":"onValidationReq"},initialize:function(){this.collection.on("add",this.loadvalidation,this)},onValidationReq:function(){var o=this,e=o.$("#channel_id").val().trim(),t=o.$("#client_secret").val().trim(),n=o.$("#developer_key").val().trim(),a=o.$("#XTtoken").attr("name");o.$("#channel_id").val(e),o.$("#client_secret").val(t),o.$("#developer_key").val(n),o.$(".loaderspinner").addClass("loading"),this.collection.create(this.collection.model,{attrs:{channel_id:e,token:a},wait:!0,dataType:"text",error:function(e,t,n){o.$(".loaderspinner").removeClass("loading"),r.showError(o,t.responseText)}})},loadvalidation:function(e){var t=e.get("status"),n=e.get("message"),o=e.get("user"),a=e.get("social_icon"),i=e.get("social_url");this.$(".loaderspinner").removeClass("loading"),t?r.showSuccess(this,o.id,a,i):r.showError(this,n)}}),ne=Backbone.View.extend({events:{"change #channeltype_id":"onChangeChannelType"},initialize:function(){var e=this.$("#selectedScope").val();this.collection.on("add",this.loadchannel,this),"U"==e&&jQuery("#toolbar-save,#toolbar-apply,#toolbar-save-new").addClass("disabled").attr("onclick","return false;")},onChangeChannelType:function(e){var o=this,t=this.$("#channeltype_id").val();o.$(".loaderspinner").addClass("loading"),this.collection.create(this.collection.model,{attrs:{channelId:this.$("#channel_id").val(),channelTypeId:t,token:this.$("#XTtoken").attr("name")},wait:!0,dataType:"text",success:function(e,t,n){o.$("#channel_data").html(e.get("message")),o.refresh()},error:function(e,t,n){o.$("#channel_data").html(t.responseText)}})},loadchannel:function(e){var t=e.get("message");this.$("#channel_data").html(t),this.refresh()},refresh:function(){this.$("#channel_data select").chosen({disable_search_threshold:10,allow_single_deselect:!0}),this.$("#channel_data .nav-tabs a").tab(),this.$("#channel_data .nav-tabs a").click(function(e){e.preventDefault()}),this.$("#channel_data .nav-tabs a:first").tab("show"),this.$("#channelTabs a").tab(),this.$("#channelTabs a").click(function(e){e.preventDefault()}),this.$("#channelTabs a:first").tab("show")},submitbutton:function(e){var t=this.el;"channel.cancel"===e&&Joomla.submitform(e,t),document.formvalidator.isValid(t)&&Joomla.submitform(e,t)}}),oe=Backbone.View.extend({events:{"click #fbalbumloadbutton":"onAlbumsReq"},initialize:function(){this.collection.on("add",this.loadFbAlbum,this),this.fbalbumlist="#xtformfbalbum_id"},onAlbumsReq:function(){var e=l(this),t=this.$(this.fbalbumlist),n=this.attributes.fbChannelView,o=n.getFbChannelId(),a=n.getFbChannelAccessToken();i.UiHelper.listReset(t),this.collection.create(this.collection.model,{attrs:{own_app:e.p_own_app,app_id:e.p_app_id,secret:e.p_secret,access_token:e.p_access_token,channel_id:o,channel_access_token:a,token:e.p_token},wait:!0,dataType:"text",error:function(e,t,n){r.showError(messagesview,t.responseText)}})},loadFbAlbum:function(e){var t,n=this.$(this.fbalbumlist);n.empty(),e.get("status")?(t=e.get("albums"),_.each(t,function(e){var t=new Option;t.value=e.id,t.text=e.name,n.append(t)}),n.trigger("liszt:updated")):r.showError(this.attributes.messagesview,e.get("message"))}}),ae=Backbone.View.extend({events:{"change #xtformfbchannel_id":"onChangeChannel"},initialize:function(){this.attributes.dispatcher.on("fbapp:channelschanged",this.onAccessTokenChanged,this),this.collection.on("add",this.loadFbChannel,this),this.fbchannellist="#xtformfbchannel_id",this.fbChannelSelected=null},onAccessTokenChanged:function(){var o=this.attributes.messagesview,e=l(this);i.UiHelper.listReset(this.$(this.fbchannellist)),this.collection.create(this.collection.model,{attrs:{own_app:e.p_own_app,app_id:e.p_app_id,secret:e.p_secret,access_token:e.p_access_token,token:e.p_token,channeltype_id:e.p_channelTypeId},wait:!0,dataType:"text",error:function(e,t,n){r.showError(o,t.responseText)}})},onChangeChannel:function(){var e,t,n,o,a,i;(i=this.$("#xtformshow_url")).val("off"),i.trigger("liszt:updated"),this.fbChannelSelected=null,e=this.getFbChannelAccessToken(),t=this.getFbChannelType(),o=(n=this.getFbChannelSelected()).attr("social_icon"),a=n.attr("social_url"),this.$("#fbchannel_access_token").val(e),r.assignSocialUrl(this,"social_url",o,a),"User"===t?this.$(".open_graph_features").fadeIn():this.$(".open_graph_features").fadeOut(),this.$(".channel-type").val(t)},getFbChannelSelected:function(){return this.fbChannelSelected||(this.fbChannelSelected=this.$(this.fbchannellist+" option:selected")),this.fbChannelSelected},getFbChannelAccessToken:function(){var e=this.getFbChannelSelected(),t="INVALID";return e&&(t=e.attr("access_token")),t},getFbChannelType:function(){var e=this.getFbChannelSelected(),t="INVALID";return e&&(t=e.attr("data_type")),t},getFbChannelId:function(){return this.getFbChannelSelected().val()},loadFbChannel:function(e){var t,n,o=this.$(this.fbchannellist),a=!0;o.empty(),this.fbChannelSelected=null,e.get("status")?(t=e.get("channels"),n=e.get("icon"),_.each(t,function(e){var t=new Option;t.value=e.id,t.text=e.type+": "+e.name,jQuery(t).attr("access_token",e.access_token).attr("data_type",e.type).attr("social_icon",n).attr("social_url",e.url),a&&(a=!1,t.selected=!0),o.append(t)}),this.onChangeChannel(),o.trigger("liszt:updated")):r.showError(this.attributes.messagesview,e.get("message"))}}),ie=Backbone.View.extend({events:{"click #fbchvalidationbutton":"onValidationReq"},initialize:function(){var e=this;this.collection.on("add",this.loadvalidation,this),this.$el.ajaxStart(function(){e.$(".loaderspinner72").addClass("loading72")}).ajaxStop(function(){e.$(".loaderspinner72").removeClass("loading72")})},onValidationReq:function(){var o=this,e=l(o),t=this.$("#fbchannel_access_token").val();this.collection.create(this.collection.model,{attrs:{own_app:e.p_own_app,app_id:e.p_app_id,secret:e.p_secret,access_token:e.p_access_token,token:e.p_token,fbchannel_access_token:t},wait:!0,dataType:"text",error:function(e,t,n){r.showError(o,t.responseText)}})},loadvalidation:function(e){var t=e.get("status"),n=e.get("message"),o=e.get("tokenInfo"),a=o.issued_at,i=o.expires_at;t?(this.$("#channel_issued_at").val(a),this.$("#channel_expires_at").val(i)):(this.$("#channel_issued_at").val(n),this.$("#channel_expires_at").val(""))}}),se=Backbone.View.extend({events:{"click #fbextendbutton":"onExtendReq"},initialize:function(){var e=this;this.collection.on("add",this.loadExtend,this),this.$el.ajaxStart(function(){e.$(".loaderspinner72").addClass("loading72")}).ajaxStop(function(){e.$(".loaderspinner72").removeClass("loading72")})},onExtendReq:function(){var o=this,e=l(o);this.collection.create(this.collection.model,{attrs:{own_app:e.p_own_app,app_id:e.p_app_id,secret:e.p_secret,access_token:e.p_access_token,token:e.p_token},wait:!0,dataType:"text",error:function(e,t,n){r.showError(o,t.responseText)}})},loadExtend:function(e){var t,n,o,a,i,s=e.get("status"),l=e.get("message");s?(t=e.get("user"),n=e.get("extended_token"),a=(o=e.get("tokenInfo")).issued_at,i=o.expires_at,t?r.showSuccess(this,t.id):r.showSuccess(this,o.data.user_id),this.$("#access_token").val(n),this.$("#issued_at").val(a),this.$("#expires_at").val(i),this.attributes.dispatcher.trigger("fbapp:channelschanged")):r.showError(this,l)}}),le=Backbone.View.extend({events:{"click #fbAsyncInitButton":"onFbAsyncInit","click #fbvalidationbutton":"onValidationReq","click #fbChannelTab":"onCheckFbApp","input #app_id":"onCheckFbApp","input #secret":"onCheckFbApp"},initialize:function(){var e=this;this.attributes.dispatcher.on("change:use_own_api",this.onChangeOwnApi,this),this.attributes.dispatcher.on("change:og_features",this.onChangeOgFeatures,this),this.collection.on("add",this.loadvalidation,this),this.$el.ajaxStart(function(){e.$(".loaderspinner72").addClass("loading72")}).ajaxStop(function(){e.$(".loaderspinner72").removeClass("loading72"),e.onCheckFbApp()}),this.onChangeOwnApi()},onChangeOwnApi:function(e){var t=this.$("#use_own_api").val();"2"!=t?(this.$("#canvas_page").addClass("required").addClass("validate-facebookapp"),this.$("#authextendbutton").fadeOut(0),this.$("#authbutton").fadeIn(0),this.$("#fbextendbutton").fadeOut(0),this.$("#fbvalidationbutton").fadeIn(0)):(this.$("#canvas_page").removeClass("required").removeClass("validate-facebookapp"),this.$("#authextendbutton").fadeIn(0),this.$("#authbutton").fadeOut(0),this.$("#fbextendbutton").fadeIn(0),this.$("#fbvalidationbutton").fadeOut(0)),"0"===t?(this.$("#own-app-testing").fadeIn(),this.$("#own-app-details").fadeOut(),this.$("#app_id").removeClass("required"),this.$("#secret").removeClass("required"),this.$("#canvas_page").removeClass("required")):"1"===t?(this.$("#own-app-testing").fadeOut(),this.$("#own-app-details-canvas-page").fadeIn(0),this.$("#own-app-details").fadeIn(),this.$("#app_id").addClass("required"),this.$("#secret").addClass("required"),this.$("#canvas_page").addClass("required")):(this.$("#own-app-testing").fadeOut(),this.$("#own-app-details-canvas-page").fadeOut(0),this.$("#own-app-details").fadeIn(),this.$("#app_id").addClass("required"),this.$("#secret").addClass("required"),this.$("#canvas_page").removeClass("required"))},onChangeOgFeatures:function(){"1"===this.$("#og_features").val()?this.$("#og-fields").fadeIn():this.$("#og-fields").fadeOut()},onCheckFbApp:function(){var e=this,t=e.$("#fbAppDef"),n=e.$("#fbAsyncInitButton"),o=e.$("#fbChannelTab"),a=e.$("#app_id"),i=e.$("#secret"),s=a.val(),l=i.val();return!_.isEmpty(s)&&!_.isEmpty(l)&&30<l.length&&(n.removeClass("disabled"),o.removeClass("disabled")),!n.hasClass("disabled")||(setTimeout(function(){t.tab("show")},100),!1)},onFbAsyncInit:function(){var t=this;if(t.onCheckFbApp()){var e,n,o,a,i=l(this),s="1"===t.$("#fb_api_perms_groups").val()?t.$("#fb_api_perms_groups_detail").val():t.$("#fb_api_perms").val();t.$("#fbLoginButton").attr("scope",s),window.fbValidationView=t,window.fbAsyncInit=function(){FB.init({appId:i.p_app_id,cookie:!0,xfbml:!0,version:"v2.8"}),FB.getLoginStatus(function(e){t.fbStatusChangeCallback(e)})},e=document,n="facebook-jssdk",a=e.getElementsByTagName("script")[0],e.getElementById(n)||((o=e.createElement("script")).id=n,o.src="https://connect.facebook.net/en_US/sdk.js",a.parentNode.insertBefore(o,a))}},fbStatusChangeCallback:function(e){var n=this;"connected"===e.status?FB.api("/me",function(e){var t=FB.getAuthResponse();document.getElementById("fbStatus").innerHTML="Thanks for logging in, "+e.name+"!",n.$("#access_token").val(t.accessToken)}):document.getElementById("fbStatus").innerHTML="Please log into this app."},onValidationReq:function(){var n=this,e=l(n);this.collection.create(this.collection.model,{attrs:{own_app:e.p_own_app,app_id:e.p_app_id,secret:e.p_secret,access_token:e.p_access_token,token:e.p_token},wait:!0,dataType:"text",error:function(e,t){r.showError(n,t.responseText)}})},loadvalidation:function(e){var t,n,o,a,i=e.get("status"),s=e.get("message");i?(t=e.get("user"),o=(n=e.get("tokenInfo")).issued_at,a=n.expires_at,r.showSuccess(this,t.id),this.$("#issued_at").val(o),this.$("#expires_at").val(a),this.attributes.dispatcher.trigger("fbapp:channelschanged")):r.showError(this,s)}}),re=Backbone.View.extend({events:{"click #gplusvalidationbutton":"onValidationReq"},initialize:function(){this.collection.on("add",this.loadvalidation,this)},onValidationReq:function(){var o=this,e=o.$("#channel_id").val().trim(),t=o.$("#client_secret").val().trim(),n=o.$("#developer_key").val().trim(),a=o.$("#XTtoken").attr("name");o.$("#channel_id").val(e),o.$("#client_secret").val(t),o.$("#developer_key").val(n),o.$(".loaderspinner").addClass("loading"),this.collection.create(this.collection.model,{attrs:{channel_id:e,token:a},wait:!0,dataType:"text",error:function(e,t,n){o.$(".loaderspinner").removeClass("loading"),r.showError(o,t.responseText)}})},loadvalidation:function(e){var t=e.get("status"),n=e.get("message"),o=e.get("user"),a=e.get("social_icon"),i=e.get("social_url");this.$(".loaderspinner").removeClass("loading"),t?r.showSuccess(this,o.id,a,i):r.showError(this,n)}}),ce=Backbone.View.extend({events:{"click #ligrouploadbutton":"onChangeChannel","change #xtformgroup_id":"onChangeGroup"},initialize:function(){this.collection.on("add",this.loadLiGroup,this),this.ligrouplist="#xtformgroup_id",this.$(".group-warn").fadeOut()},onChangeChannel:function(){var e=t(this);i.UiHelper.listReset(this.$(this.ligrouplist)),this.collection.create(this.collection.model,{attrs:{api_key:e.p_api_key,secret_key:e.p_secret_key,oauth_user_token:e.p_oauth_user_token,oauth_user_secret:e.p_oauth_user_secret,token:e.p_token},wait:!0,dataType:"text",error:function(e,t,n){r.showError(this,t.responseText)}})},loadLiGroup:function(e){var t,n,o=this.$(this.ligrouplist),a=!0;o.empty(),e.get("status")?(t=e.get("channels"),n=e.get("icon"),_.each(t,function(e){var t=new Option;t.value=e.id,t.text=e.name,jQuery(t).attr("social_icon",n).attr("social_url",e.url),a&&(a=!1,t.selected=!0),o.append(t)}),this.onChangeGroup(),r.showSuccess(this,""),o.trigger("liszt:updated")):r.showError(this,e.get("message"))},onChangeGroup:function(){var e=this.$("#xtformgroup_id option:selected"),t=e.attr("social_icon"),n=e.attr("social_url");r.assignSocialUrl(this,"social_url_ligroup",t,n)}}),de=Backbone.View.extend({events:{"click #lioauth2companyloadbutton":"onChangeChannel","change #xtformcompany_id":"onChangeCompany"},initialize:function(){this.collection.on("add",this.loadLiCompany,this),this.lioauth2companylist="#xtformcompany_id",this.$(".group-warn").fadeOut()},onChangeChannel:function(){var e=this.$("#channel_id").val().trim(),t=this.$("#XTtoken").attr("name");i.UiHelper.listReset(this.$(this.lioauth2companylist)),this.collection.create(this.collection.model,{attrs:{channel_id:e,token:t},wait:!0,dataType:"text",error:function(e,t,n){r.showError(this,t.responseText)}})},loadLiCompany:function(e){var t,n,o=this.$(this.lioauth2companylist),a=!0;o.empty(),e.get("status")?(t=e.get("channels"),n=e.get("icon"),_.each(t,function(e){var t=new Option;t.value=e.id,t.text=e.name,jQuery(t).attr("social_icon",n).attr("social_url",e.url),a&&(a=!1,t.selected=!0),o.append(t)}),this.onChangeCompany(),r.showSuccess(this,""),o.trigger("liszt:updated")):r.showError(this,e.get("message"))},onChangeCompany:function(){var e=this.$("#xtformcompany_id option:selected"),t=e.attr("social_icon"),n=e.attr("social_url");r.assignSocialUrl(this,"social_url_lioauth2company",t,n)}}),he=Backbone.View.extend({events:{"click #lioauth2validationbutton":"onValidationReq"},initialize:function(){this.collection.on("add",this.loadvalidation,this)},onValidationReq:function(){var o=this,e=o.$("#channel_id").val().trim(),t=o.$("#XTtoken").attr("name");o.$("#channel_id").val(e),o.$(".loaderspinner").addClass("loading"),this.collection.create(this.collection.model,{attrs:{channel_id:e,token:t},wait:!0,dataType:"text",error:function(e,t,n){o.$(".loaderspinner").removeClass("loading"),r.showError(o,t.responseText)}})},loadvalidation:function(e){var t=e.get("status"),n=e.get("message"),o=e.get("user"),a=e.get("icon"),i=e.get("url");this.$(".loaderspinner").removeClass("loading"),t?r.showSuccess(this,o.id,a,i):r.showError(this,n)}}),pe=Backbone.View.extend({events:{"click #mediumvalidationbutton":"onValidationReq"},initialize:function(){this.collection.on("add",this.loadvalidation,this)},onValidationReq:function(){var o=this,e=o.$("#integration_token").val().trim(),t=o.$("#XTtoken").attr("name");o.$("#integration_token").val(e),o.$(".loaderspinner").addClass("loading"),this.collection.create(this.collection.model,{attrs:{integration_token:e,token:t},wait:!0,dataType:"text",error:function(e,t,n){o.$(".loaderspinner").removeClass("loading"),r.showError(o,t.responseText)}})},loadvalidation:function(e){var t=e.get("status"),n=e.get("message"),o=e.get("user"),a=e.get("icon"),i=e.get("url");this.$(".loaderspinner").removeClass("loading"),t?r.showSuccess(this,o,a,i):r.showError(this,n)}}),ue=Backbone.View.extend({events:{"click #oneSignalvalidationbutton":"onValidationReq"},initialize:function(){this.collection.on("add",this.loadvalidation,this)},onValidationReq:function(){var o=this,e=o.$("#app_id").val().trim(),t=o.$("#rest_api_key").val().trim(),n=o.$("#user_auth_key").val().trim(),a=o.$("#XTtoken").attr("name");o.$("#app_id").val(e),o.$("#rest_api_key").val(t),o.$("#user_auth_key").val(n),o.$(".loaderspinner").addClass("loading"),this.collection.create(this.collection.model,{attrs:{app_id:e,rest_api_key:t,user_auth_key:n,token:a},wait:!0,dataType:"text",error:function(e,t,n){o.$(".loaderspinner").removeClass("loading"),r.showError(o,t.responseText)}})},loadvalidation:function(e){var t=e.get("status"),n=e.get("message");this.$(".loaderspinner").removeClass("loading"),t?r.showSuccess(this):r.showError(this,n)}}),_e=Backbone.View.extend({events:{"click #pagespeedvalidationbutton":"onValidationReq"},initialize:function(){this.collection.on("add",this.loadvalidation,this)},onValidationReq:function(){var o=this,e=o.$("#channel_id").val().trim(),t=o.$("#api_key").val().trim(),n=o.$("#XTtoken").attr("name");o.$("#channel_id").val(e),o.$("#api_key").val(t),o.$(".loaderspinner").addClass("loading"),this.collection.create(this.collection.model,{attrs:{channel_id:e,api_key:t,token:n},wait:!0,dataType:"text",error:function(e,t,n){o.$(".loaderspinner").removeClass("loading"),r.showError(o,t.responseText)}})},loadvalidation:function(e){var t=e.get("status"),n=e.get("message");this.$(".loaderspinner").removeClass("loading"),t?r.showSuccess(this,null,null,null):r.showError(this,n)}}),ve=Backbone.View.extend({events:{"click #pinterestvalidationbutton":"onValidationReq"},initialize:function(){this.collection.on("add",this.loadvalidation,this)},onValidationReq:function(){var o=this,e=o.$("#channel_id").val().trim(),t=o.$("#app_id").val().trim(),n=o.$("#app_secret").val().trim(),a=o.$("#XTtoken").attr("name");o.$("#channel_id").val(e),o.$("#app_id").val(t),o.$("#app_secret").val(n),o.$(".loaderspinner").addClass("loading"),this.collection.create(this.collection.model,{attrs:{channel_id:e,token:a},wait:!0,dataType:"text",error:function(e,t,n){o.$(".loaderspinner").removeClass("loading"),r.showError(o,t.responseText)}})},loadvalidation:function(e){var t=e.get("status"),n=e.get("message"),o=e.get("user"),a=e.get("social_icon"),i=e.get("social_url");this.$(".loaderspinner").removeClass("loading"),t?r.showSuccess(this,o.id,a,i):r.showError(this,n)}}),ge=Backbone.View.extend({events:{"click #pushalertvalidationbutton":"onValidationReq"},initialize:function(){this.collection.on("add",this.loadvalidation,this)},onValidationReq:function(){var o=this,e=o.$("#rest_api_key").val().trim(),t=o.$("#XTtoken").attr("name");o.$("#rest_api_key").val(e),o.$(".loaderspinner").addClass("loading"),this.collection.create(this.collection.model,{attrs:{rest_api_key:e,token:t},wait:!0,dataType:"text",error:function(e,t,n){o.$(".loaderspinner").removeClass("loading"),r.showError(o,t.responseText)}})},loadvalidation:function(e){var t=e.get("status"),n=e.get("message");this.$(".loaderspinner").removeClass("loading"),t?r.showSuccess(this):r.showError(this,n)}}),me=Backbone.View.extend({events:{"click #pushwooshvalidationbutton":"onValidationReq"},initialize:function(){this.collection.on("add",this.loadvalidation,this)},onValidationReq:function(){var o=this,e=o.$("#application_id").val().trim(),t=o.$("#access_token").val().trim(),n=o.$("#XTtoken").attr("name");o.$("#application_id").val(e),o.$("#access_token").val(t),o.$(".loaderspinner").addClass("loading"),this.collection.create(this.collection.model,{attrs:{application_id:e,access_token:t,token:n},wait:!0,dataType:"text",error:function(e,t,n){o.$(".loaderspinner").removeClass("loading"),r.showError(o,t.responseText)}})},loadvalidation:function(e){var t=e.get("status"),n=e.get("message");this.$(".loaderspinner").removeClass("loading"),t?r.showSuccess(this):r.showError(this,n)}}),fe=Backbone.View.extend({events:{"click #submit_topic_search":"onTopicsSearch","change #topic_select_id":"onChangeTopic"},initialize:function(){this.collection.on("add",this.load,this),this.topiclist="#topic_select_id"},onTopicsSearch:function(){var o=this,e=o.$(this.topiclist),t=o.$("#channel_id").val(),n=o.$("#XTtoken").attr("name"),a=o.$("#search_topic").val();i.UiHelper.listReset(e),this.collection.create(this.collection.model,{attrs:{channel_id:t,token:n,search:a},wait:!0,dataType:"text",error:function(e,t,n){r.showError(o,t.responseText)}})},load:function(e){var t,n=this.$(this.topiclist);n.empty(),e.get("status")?(t=e.get("topics"),_.each(t,function(e){var t=new Option;t.value=e.id,t.text=e.name,n.append(t)}),n.trigger("liszt:updated")):r.showError(this,e.get("message"))},onChangeTopic:function(){var e=this.$("#topic_select_id").val();this.$("#topic_id").val(e)}}),ke=Backbone.View.extend({events:{"click #scoopitvalidationbutton":"onValidationReq"},initialize:function(){this.collection.on("add",this.loadvalidation,this)},onValidationReq:function(){var o=this,e=o.$("#channel_id").val().trim(),t=o.$("#consumer_key").val().trim(),n=o.$("#consumer_secret").val().trim(),a=o.$("#access_token").val().trim(),i=o.$("#access_secret").val().trim(),s=o.$("#XTtoken").attr("name");o.$("#channel_id").val(e),o.$("#consumer_key").val(t),o.$("#consumer_secret").val(n),o.$("#access_token").val(a),o.$("#access_secret").val(i),o.$(".loaderspinner").addClass("loading"),this.collection.create(this.collection.model,{attrs:{channel_id:e,consumer_key:t,consumer_secret:n,access_token:a,access_secret:i,token:s},wait:!0,dataType:"text",error:function(e,t,n){o.$(".loaderspinner").removeClass("loading"),r.showError(o,t.responseText)}})},loadvalidation:function(e){var t=e.get("status"),n=e.get("message"),o=e.get("user"),a=e.get("icon"),i=e.get("url");this.$(".loaderspinner").removeClass("loading"),t?r.showSuccess(this,o.id_str,a,i):r.showError(this,n)}}),we=Backbone.View.extend({events:{"click #telegramvalidationbutton":"onValidationReq"},initialize:function(){this.collection.on("add",this.loadvalidation,this)},onValidationReq:function(){var o=this,e=o.$("#bot_token").val().trim(),t=o.$("#chat_id").val().trim(),n=o.$("#XTtoken").attr("name");o.$("#bot_token").val(e),o.$("#chat_id").val(t),o.$(".loaderspinner").addClass("loading"),this.collection.create(this.collection.model,{attrs:{bot_token:e,chat_id:t,token:n},wait:!0,dataType:"text",error:function(e,t,n){o.$(".loaderspinner").removeClass("loading"),r.showError(o,t.responseText)}})},loadvalidation:function(e){var t=e.get("status"),n=e.get("message"),o=e.get("user"),a=e.get("icon"),i=e.get("url");this.$(".loaderspinner").removeClass("loading"),t?r.showSuccess(this,o,a,i):r.showError(this,n)}}),$e=Backbone.View.extend({events:{"click #tumblrvalidationbutton":"onValidationReq"},initialize:function(){this.collection.on("add",this.loadvalidation,this),this.bloglist="#blogs"},onValidationReq:function(){var o=this,e=o.$("#channel_id").val().trim(),t=o.$("#XTtoken").attr("name"),n=this.$(this.bloglist);o.$("#channel_id").val(e),o.$(".loaderspinner").addClass("loading"),i.UiHelper.listReset(n),this.collection.create(this.collection.model,{attrs:{channel_id:e,token:t},wait:!0,dataType:"text",error:function(e,t,n){o.$(".loaderspinner").removeClass("loading"),r.showError(o,t.responseText)}})},loadvalidation:function(e){var t=e.get("status"),n=e.get("message"),o=e.get("user"),a=e.get("icon"),i=e.get("url"),s=this.$(this.bloglist);this.$(".loaderspinner").removeClass("loading"),t?(s.empty(),_.each(o.blogs,function(e){var t=new Option;t.value=e.id,t.text=e.name,s.append(t)}),s.trigger("liszt:updated"),r.showSuccess(this,o.name,a,i)):r.showError(this,n)}}),be=Backbone.View.extend({events:{"click #twvalidationbutton":"onValidationReq"},initialize:function(){this.collection.on("add",this.loadvalidation,this)},onValidationReq:function(){var o=this,e=o.$("#consumer_key").val().trim(),t=o.$("#consumer_secret").val().trim(),n=o.$("#access_token").val().trim(),a=o.$("#access_token_secret").val().trim(),i=o.$("#XTtoken").attr("name");o.$("#consumer_key").val(e),o.$("#consumer_secret").val(t),o.$("#access_token").val(n),o.$("#access_token_secret").val(a),o.$(".loaderspinner").addClass("loading"),this.collection.create(this.collection.model,{attrs:{consumer_key:e,consumer_secret:t,access_token:n,access_token_secret:a,token:i},wait:!0,dataType:"text",error:function(e,t,n){o.$(".loaderspinner").removeClass("loading"),r.showError(o,t.responseText)}})},loadvalidation:function(e){var t=e.get("status"),n=e.get("message"),o=e.get("user"),a=e.get("icon"),i=e.get("url");this.$(".loaderspinner").removeClass("loading"),t?r.showSuccess(this,o.id_str,a,i):r.showError(this,n)}}),xe=Backbone.View.extend({events:{"click #vkgrouploadbutton":"ongroupsReq","change #xtformvkgroup_id":"onChangeGroup"},initialize:function(){this.collection.on("add",this.loadVkGroup,this),this.vkgrouplist="#xtformvkgroup_id"},ongroupsReq:function(){var o=this,e=o.$(this.vkgrouplist),t=o.$("#channel_id").val().trim(),n=o.$("#access_token").val().trim(),a=o.$("#XTtoken").attr("name");o.$("#channel_id").val(t),o.$("#access_token").val(n),i.UiHelper.listReset(e),this.collection.create(this.collection.model,{attrs:{channel_id:t,access_token:n,token:a},wait:!0,dataType:"text",error:function(e,t,n){r.showError(o,t.responseText)}})},loadVkGroup:function(e){var t,n,o=this.$(this.vkgrouplist),a=!0;o.empty(),e.get("status")?(t=e.get("groups"),n=e.get("social_icon"),_.each(t,function(e){var t=new Option;t.value=e.gid,t.text=e.name,jQuery(t).attr("social_icon",n).attr("social_url",e.url),a&&(a=!1,t.selected=!0),o.append(t)}),this.onChangeGroup(),o.trigger("liszt:updated")):r.showError(this,e.get("message"))},onChangeGroup:function(){var e=this.$("#xtformvkgroup_id option:selected"),t=e.attr("social_icon"),n=e.attr("social_url");r.assignSocialUrl(this,"social_url_vkgroup",t,n)}}),Ce=Backbone.View.extend({events:{"click #authorizeButton":"onAuthorization","click #vkvalidationbutton":"onValidationReq"},initialize:function(){this.collection.on("add",this.loadvalidation,this)},onAuthorization:function(){this.$("#authorizeGroup").addClass("hide"),this.$("#validationGroup").removeClass("hide")},processTokenUrl:function(e){var t,n,a={};return n=(t=e.$("#token_url").val().trim()).split("#"),2==_.size(n)&&(t=n[1],!_.isEmpty(t)&&(n=t.split("&"),_.each(n,function(e){var t,n,o=e.split("=");2==_.size(o)&&(t=o[0],n=o[1],jQuery("#raw_"+t).val(n),a[t]=n)}),jQuery("#access_token").val(JSON.stringify(a)),!0))},onValidationReq:function(){var e,o=this,t=o.$("#channel_id").val(),n=o.$("#XTtoken").attr("name");this.processTokenUrl(o)||r.showError(o,"Invalid Token Url"),e=o.$("#access_token").val(),o.$(".loaderspinner").addClass("loading"),this.collection.create(this.collection.model,{attrs:{channel_id:t,access_token:e,token:n},wait:!0,dataType:"text",error:function(e,t,n){o.$(".loaderspinner").removeClass("loading"),r.showError(o,t.responseText)}})},loadvalidation:function(e){var t=e.get("status"),n=e.get("message"),o=e.get("social_icon"),a=e.get("social_url");this.$(".loaderspinner").removeClass("loading"),t?r.showSuccess(this,n,o,a):r.showError(this,n)}}),ye=Backbone.View.extend({events:{"click #xingvalidationbutton":"onValidationReq"},initialize:function(){this.collection.on("add",this.loadvalidation,this)},onValidationReq:function(){var o=this,e=o.$("#channel_id").val().trim(),t=o.$("#XTtoken").attr("name");o.$("#channel_id").val(e),o.$(".loaderspinner").addClass("loading"),this.collection.create(this.collection.model,{attrs:{channel_id:e,token:t},wait:!0,dataType:"text",error:function(e,t,n){o.$(".loaderspinner").removeClass("loading"),r.showError(o,t.responseText)}})},loadvalidation:function(e){var t=e.get("status"),n=e.get("message"),o=e.get("user"),a=e.get("icon"),i=e.get("url");this.$(".loaderspinner").removeClass("loading"),t?r.showSuccess(this,o,a,i):r.showError(this,n)}}),Te=jQuery("#adminForm");new ne({el:Te,collection:new R}).onChangeChannelType();new be({el:Te,collection:new W}),new he({el:Te,collection:new O});var Ee=_.clone(Backbone.Events),Ve=new le({el:Te,collection:new A,attributes:{dispatcher:Ee}}),Se=new ae({el:Te,collection:new I,attributes:{dispatcher:Ee,messagesview:Ve}});new oe({el:Te,collection:new q,attributes:{fbChannelView:Se}}),new ie({el:Te,collection:new z}),new se({el:Te,collection:new F,attributes:{dispatcher:Ee}}),new re({el:Te,collection:new H}),new ce({el:Te,collection:new M}),new de({el:Te,collection:new U}),new Ce({el:Te,collection:new Z}),new xe({el:Te,collection:new Y}),new ke({el:Te,collection:new N}),new fe({el:Te,collection:new P}),new $e({el:Te,collection:new K}),new te({el:Te,collection:new B}),new ye({el:Te,collection:new ee}),new we({el:Te,collection:new J}),new pe({el:Te,collection:new X}),new me({el:Te,collection:new D}),new ue({el:Te,collection:new j}),new ge({el:Te,collection:new Q}),new _e({el:Te,collection:new G}),new ve({el:Te,collection:new L});window.xtAppDispatcher=Ee;try{!window.punycode&&"function"==typeof define&&"object"==typeof define.amd&&define.amd&&require(["punycode"],function(e){window.punycode=e})}catch(e){}});
