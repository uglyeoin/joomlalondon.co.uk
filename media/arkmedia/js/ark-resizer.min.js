(function(n){var t=function(n){this.initialise(n)};t.prototype=n.extend({},n.fn.arkbase(),{constructor:t,options:{css:{control:'[data-action="resize"]',type:"[data-type]",value:'[data-action-value="resize"]'},data:{control:"data-action",type:"data-type",value:"data-action-value",resize:"data-resize-"},html:{},namespace:".resizer",active:null,types:[],permission:null},el:{root:null,controls:null,values:null},initialise:function(t){this.set(t);this.el.root=n(this.options.css.root);this.el.controls=this.el.root.find(this.options.css.control);this.el.values=this.el.root.find(this.options.css.value);this.addControlEvents();this.setDefault()},addControlEvents:function(){if(n(document).trigger("arkresize:before:add",[this.el.controls]),this.permission(this.options.permission))this.el.root.on("click"+this.options.namespace,this.options.css.control,{self:this},function(t){var i=n(this).attr(t.data.self.options.data.type);i&&i!==t.data.self.options.active&&(t.data.self.options.active=i,t.data.self.switchLayout())});n(document).trigger("arkresize:after:add",[this.el.controls])},setDefault:function(){n(document).trigger("arkresize:before:default",[this.options.active]);this.options.active&&(this.el.controls.each(n.proxy(function(t,i){n(i).attr(this.options.data.type)===this.options.active&&n(i).addClass(this.options.css.bootstrap.active.value)},this)),this.switchLayout(this.options.active));n(document).trigger("arkresize:after:default",[this.options.active])},switchLayout:function(){n(document).trigger("arkresize:before:switch",[this.options.active,this.el.values]);this.el.values.each(n.proxy(function(t,i){var r=n(i).attr(this.options.data.resize+this.options.active);r&&(n(i).removeClass(),n(i).addClass(r))},this));n(document).trigger("arkresize:after:switch",[this.options.active,this.el.values])}});n.fn.resizer=function(n){return new t(n)}})(window.jQuery)