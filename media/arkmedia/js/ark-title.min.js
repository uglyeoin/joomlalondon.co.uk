(function(n){var t=function(n){this.initialise(n)};t.prototype=n.extend({},n.fn.arkbase(),{constructor:t,options:{css:{title:"#ark-title",template:"#tmpl-title"},data:{},html:{},namespace:".title"},el:{root:null,title:null,stacks:null},initialise:function(t){if(this.set(t),this.el.root=n(this.options.css.root),this.el.title=this.el.root.find(this.options.css.title),this.el.stacks=this.el.title.find(this.options.css.stack),n.views){if(!this.el.stacks.length)return this.debug("initialise","No Title Stacks"),!1}else return this.message("Dependent Classes Not Found"),this.debug("initialise","Dependent Classes Not Found"),!1;this.register()},register:function(){n(document).trigger("arktitle:before:register");var i=n(document).triggerHandler("observer:request:all"),r=n(document).triggerHandler("observer:request:active",{type:"edit"}),t=n.templates(this.options.css.template);t?this.el.stacks.each(n.proxy(function(u,f){var e=n(f).attr(this.options.data.stack),o=n(document).triggerHandler("observer:request:active",{type:"folders",stack:e}),s=n(document).triggerHandler("observer:request:active",{type:"files",stack:e});n(f).link(t,{stack:i[e],folders:o,files:s,file:r})},this)):this.debug("register","Could Not Find Template");n(document).trigger("arktitle:after:register")}});n.fn.title=function(n){return new t(n)}})(window.jQuery)